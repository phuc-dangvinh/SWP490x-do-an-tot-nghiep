<div class="container-fluid">
  <form [formGroup]="formUser">
    <h4 class="pt-3 text-center sticky-top bg-white">
      {{ isEdit ? "Update user" : "New user" }}
    </h4>
    <hr />
    <div>
      <div class="mb-3 avatar">
        <div class="file-input">
          <input
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            #fileUpload
          />
        </div>
        <div>
          <label class="form-label text-primary avatar-label">Avatar:</label>
          <div>
            <div class="text-center" *ngIf="srcFile">
              <img [src]="srcFile" class="display-avatar" />
            </div>
            <div class="text-center" *ngIf="fileName && srcFile">
              {{ fileName }}
            </div>
            <div class="text-center mt-3">
              <app-select-file (onClick)="fileUpload.click()"></app-select-file>
            </div>
          </div>
        </div>
      </div>
      <div class="mb-3">
        <label for="fullname" class="form-label text-primary">Full name:</label>
        <input
          formControlName="fullname"
          type="text"
          class="form-control"
          id="fullname"
        />
        <ng-container
          *ngIf="
            getErrorMessage('fullname') &&
            (getFormControl('fullname').dirty ||
              getFormControl('fullname').touched)
          "
        >
          <div
            class="error-control left-center mt-1"
            *ngFor="let message of getErrorMessage('fullname')"
          >
            <div class="center-center"><i class="bi bi-exclamation"></i></div>
            <span class="ms-1">{{ message }}</span>
          </div>
        </ng-container>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label text-primary">Email:</label>
        <input
          formControlName="email"
          type="email"
          class="form-control"
          id="email"
        />
        <ng-container
          *ngIf="
            getErrorMessage('email') &&
            (getFormControl('email').dirty || getFormControl('email').touched)
          "
        >
          <div
            class="error-control left-center mt-1"
            *ngFor="let message of getErrorMessage('email')"
          >
            <div class="center-center"><i class="bi bi-exclamation"></i></div>
            <span class="ms-1">{{ message }}</span>
          </div>
        </ng-container>
      </div>
      <div class="mb-3">
        <label for="phone" class="form-label text-primary">Phone:</label>
        <input
          formControlName="phone"
          type="text"
          class="form-control"
          id="phone"
        />
        <ng-container
          *ngIf="
            getErrorMessage('phone') &&
            (getFormControl('phone').dirty || getFormControl('phone').touched)
          "
        >
          <div
            class="error-control left-center mt-1"
            *ngFor="let message of getErrorMessage('phone')"
          >
            <div class="center-center"><i class="bi bi-exclamation"></i></div>
            <span class="ms-1">{{ message }}</span>
          </div>
        </ng-container>
      </div>
      <div>
        <label class="form-label text-primary">Admin</label>
        <app-slider-button
          class="ms-3"
          formControlName="isAdmin"
        ></app-slider-button>
      </div>
    </div>
    <hr />
    <div class="text-center bg-white mb-3">
      <app-save-button (clickButton)="onClick(BUTTON.SAVE)"></app-save-button>
      <app-cancel-button
        (clickButton)="onClick(BUTTON.CANCEL)"
      ></app-cancel-button>
    </div>
  </form>
</div>
